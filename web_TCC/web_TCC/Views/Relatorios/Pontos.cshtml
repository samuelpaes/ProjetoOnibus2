@model IEnumerable<web_TCC.Models.V_RelRegistroPontos>

@{
    ViewBag.Title = "Relatórios - Registros por Pontos";
    Layout = "~/Views/Shared/_LayoutMaster.cshtml";
}

@using (Html.BeginForm())
{

    @Html.ValidationSummary(true)

    <fieldset>
        <div class="control-group">
            <div class="controls">
                <div class="col-md-2 xdisplay_inputx form-group">
                    <span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
                    @Html.TextBox("txtGetDataInicio", "", new { @class = "form-control has-feedback-left", placeholder = "Data inicial" })
                </div>
                <div class="col-md-2 xdisplay_inputx form-group">
                    <span class="fa fa-calendar-o form-control-feedback left" aria-hidden="true"></span>
                    @Html.TextBox("txtGetDataFim", "", new { @class = "form-control has-feedback-left", placeholder = "Data final" })
                </div>
                @Html.DropDownList("ID_linha", null, "Linha", new { @class = "dropdown-toggle btn btn-default" })
            </div>
        </div>
    </fieldset>
    <br />
    <fieldset>
        <div class="control-group">
            <div class="controls">
                <div class="col-md-1 xdisplay_inputx form-group">
                    <input type="submit" value="Filtrar" class="btn btn-primary" />
                </div>
                @*<button type="button" class="btn btn-default" data-toggle="modal" data-target=".bs-example-modal-lg">Gerar Gráfico</button>*@
                <button type="button" class="btn btn-default" data-toggle="modal" data-target=".bs-example-modal-lg">Gerar Gráfico dos resultados</button>
            </div>
        </div>
    </fieldset>
}

@if (Model != null) {
        if (Model.Any())
        {
    <div class="x_content">
        @*<p class="text-muted font-13 m-b-30">
                The Buttons extension for DataTables provides a common set of options, API methods and styling to display buttons on a page that will interact with a DataTable. The core library provides the based framework upon which plug-ins can built.
            </p>*@
        <table id="datatable-buttons" class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>
                        Linha
                    </th>
                    <th>
                        Veículo
                    </th>
                    <th>
                        Data
                    </th>
                    <th>
                        Ponto
                    </th>
                    <th>
                        Entradas
                    </th>
                    <th>
                        Saídas
                    </th>
                </tr>
            </thead>

            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.LinhaNumero)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RelatorioNumeroVeiculo)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RelatorioData)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.PontoCodigo) - @Html.DisplayFor(modelItem => item.PontoDescricao)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RelatorioEntradaQuantidade)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RelatorioSaidaQuantidade)
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    
    @*Gráfico irá aqui*@
    <!-- Modal -->
    <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">×</span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                </div>
                <div class="modal-body">
                    <h4>Text in a modal</h4>
                    <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>
                    <p>Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>
    <!-- /Modal -->
    }
}



